<link href="sunglasses.css" rel="stylesheet" type="text/css">
<style>
  body {
    min-width: 357px;
    overflow-x:hidden;
  }

  input#slider {
    width: 200px;
  }
</style>

<script>
  function setShade(value) {
    document.getElementById("webpage_sunglasses").style.opacity = value;
  }

  function showValue(newValue) {
    document.getElementById("range").innerHTML=newValue;
  }

  function saveOpacity(value) {
    chrome.extension.sendRequest({save_sunglasses_opacity: value}, function(response) {
      console.log(response.status);
    });
  }

</script>

<div id="webpage_sunglasses"></div>
Set shade:
<input type="range" id="slider" min="0" max="100" value="20" step="1" onchange="setShade(this.value/100); showValue(this.value);" />
<span id="range">20</span>
<br>

<input type="button" onclick="saveOpacity(document.getElementById('slider').value/100)" value="save">
